/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/ecs/components.ts":
/*!*******************************!*\
  !*** ./src/ecs/components.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoxCollider\": () => (/* binding */ BoxCollider),\n/* harmony export */   \"BoxRendererComponent\": () => (/* binding */ BoxRendererComponent),\n/* harmony export */   \"CameraFollow\": () => (/* binding */ CameraFollow),\n/* harmony export */   \"ControllerComponent\": () => (/* binding */ ControllerComponent),\n/* harmony export */   \"MotionComponent\": () => (/* binding */ MotionComponent),\n/* harmony export */   \"PlayerComponent\": () => (/* binding */ PlayerComponent),\n/* harmony export */   \"Renderable\": () => (/* binding */ Renderable),\n/* harmony export */   \"SpriteComponent\": () => (/* binding */ SpriteComponent)\n/* harmony export */ });\n/* harmony import */ var _lib_ECS__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/ECS */ \"./src/lib/ECS.ts\");\n\nclass CameraFollow extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n}\nclass Renderable extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n    anchor;\n    constructor(anchor) {\n        super();\n        this.anchor = anchor;\n    }\n}\nclass SpriteComponent extends Renderable {\n    image;\n    dimensions;\n    constructor(image, dimensions, anchor) {\n        super(anchor);\n        this.image = image;\n        this.dimensions = dimensions;\n    }\n}\nclass ControllerComponent extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n    speed;\n    maxSpeed;\n    jumpHeight;\n    constructor(speed, maxSpeed, jumpHeight) {\n        super();\n        this.speed = speed;\n        this.maxSpeed = maxSpeed;\n        this.jumpHeight = jumpHeight;\n    }\n}\nclass BoxCollider extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n    width;\n    height;\n    isStatic;\n    constructor(width, height, isStatic) {\n        super();\n        this.width = width;\n        this.height = height;\n        this.isStatic = isStatic;\n    }\n}\nclass BoxRendererComponent extends Renderable {\n    width;\n    height;\n    color;\n    constructor(width, height, color, anchor) {\n        super(anchor);\n        this.width = width;\n        this.height = height;\n        this.color = color;\n    }\n}\nclass PlayerComponent extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n    constructor() { super(); }\n}\nclass MotionComponent extends _lib_ECS__WEBPACK_IMPORTED_MODULE_0__.Component {\n    velocity;\n    acceleration;\n    constructor(velocity, acceleration) {\n        super();\n        this.velocity = velocity;\n        this.acceleration = acceleration;\n    }\n}\n\n\n//# sourceURL=webpack://down_to_earth/./src/ecs/components.ts?");

/***/ }),

/***/ "./src/ecs/systems.ts":
/*!****************************!*\
  !*** ./src/ecs/systems.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoxRenderer\": () => (/* binding */ BoxRenderer),\n/* harmony export */   \"CharacterController\": () => (/* binding */ CharacterController),\n/* harmony export */   \"CollisionManager\": () => (/* binding */ CollisionManager),\n/* harmony export */   \"SpriteRenderer\": () => (/* binding */ SpriteRenderer),\n/* harmony export */   \"TrackCamera\": () => (/* binding */ TrackCamera)\n/* harmony export */ });\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main */ \"./src/main.ts\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components */ \"./src/ecs/components.ts\");\n/* harmony import */ var _lib_ECS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ECS */ \"./src/lib/ECS.ts\");\n/* harmony import */ var _lib_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/renderer */ \"./src/lib/renderer.ts\");\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../input */ \"./src/input.ts\");\n\n\n\n\n\nclass BoxRenderer extends _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.System {\n    componentsRequired = new Set([_components__WEBPACK_IMPORTED_MODULE_1__.BoxRendererComponent]);\n    update(entities) {\n        for (let id of entities) {\n            let entity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(id);\n            let box = entity.get(_components__WEBPACK_IMPORTED_MODULE_1__.BoxRendererComponent);\n            let x = _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.getScreenX(entity.transform.position.x);\n            let y = _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.getScreenY(entity.transform.position.y);\n            let scale = _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.zoom;\n            _lib_renderer__WEBPACK_IMPORTED_MODULE_3__.view.context.fillStyle = box.color;\n            _lib_renderer__WEBPACK_IMPORTED_MODULE_3__.view.context.fillRect(x, y, box.width * scale, box.height * scale);\n        }\n    }\n}\nclass SpriteRenderer extends _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.System {\n    componentsRequired = new Set([_components__WEBPACK_IMPORTED_MODULE_1__.SpriteComponent]);\n    update(entities) {\n        for (let id of entities.values()) {\n            let entity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(id);\n            let spritecomp = entity.get(_components__WEBPACK_IMPORTED_MODULE_1__.SpriteComponent);\n            let width = spritecomp.dimensions.x * _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.zoom;\n            let height = spritecomp.dimensions.y * _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.zoom;\n            let x = _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.getScreenX(entity.transform.position.x);\n            let y = _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.getScreenY(entity.transform.position.y);\n            _lib_renderer__WEBPACK_IMPORTED_MODULE_3__.view.context.drawImage(spritecomp.image, x - spritecomp.anchor.x, y - spritecomp.anchor.y, width, height);\n        }\n    }\n}\nclass TrackCamera extends _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.System {\n    componentsRequired = new Set([_components__WEBPACK_IMPORTED_MODULE_1__.CameraFollow]);\n    update(entities) {\n        for (let id of entities) {\n            let entity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(id);\n            // set camera position to entity position\n            _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.setX(entity.transform.position.x);\n            _main__WEBPACK_IMPORTED_MODULE_0__.GameCamera.setY(entity.transform.position.y);\n        }\n    }\n}\nclass CharacterController extends _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.System {\n    componentsRequired = new Set([_components__WEBPACK_IMPORTED_MODULE_1__.ControllerComponent]);\n    update(entities) {\n        for (let id of entities) {\n            let entity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(id);\n            let controller = entity.get(_components__WEBPACK_IMPORTED_MODULE_1__.ControllerComponent);\n            if (_input__WEBPACK_IMPORTED_MODULE_4__.Input.hasKey(\"w\"))\n                entity.transform.position.y -= controller.speed * _main__WEBPACK_IMPORTED_MODULE_0__.Time.DeltaTime;\n            if (_input__WEBPACK_IMPORTED_MODULE_4__.Input.hasKey(\"a\"))\n                entity.transform.position.x -= controller.speed * _main__WEBPACK_IMPORTED_MODULE_0__.Time.DeltaTime;\n            if (_input__WEBPACK_IMPORTED_MODULE_4__.Input.hasKey(\"s\"))\n                entity.transform.position.y += controller.speed * _main__WEBPACK_IMPORTED_MODULE_0__.Time.DeltaTime;\n            if (_input__WEBPACK_IMPORTED_MODULE_4__.Input.hasKey(\"d\"))\n                entity.transform.position.x += controller.speed * _main__WEBPACK_IMPORTED_MODULE_0__.Time.DeltaTime;\n        }\n    }\n}\nclass CollisionManager extends _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.System {\n    componentsRequired = new Set([_components__WEBPACK_IMPORTED_MODULE_1__.BoxCollider]);\n    update(entities) {\n        for (let id of entities) {\n            let entity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(id);\n            let box1 = entity.get(_components__WEBPACK_IMPORTED_MODULE_1__.BoxCollider);\n            for (let colId of entities) {\n                if (colId == id)\n                    continue;\n                let collidingEntity = _lib_ECS__WEBPACK_IMPORTED_MODULE_2__.ecs.getComponents(colId);\n                let box2 = collidingEntity.get(_components__WEBPACK_IMPORTED_MODULE_1__.BoxCollider);\n                // check intersection\n                if (!(entity.transform.position.x + box1.width < collidingEntity.transform.position.x &&\n                    entity.transform.position.x > collidingEntity.transform.position.x + box2.width &&\n                    entity.transform.position.y + box1.height < collidingEntity.transform.position.y &&\n                    entity.transform.position.y > collidingEntity.transform.position.y + box2.height))\n                    continue;\n                console.log(\"colliding\");\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://down_to_earth/./src/ecs/systems.ts?");

/***/ }),

/***/ "./src/image.ts":
/*!**********************!*\
  !*** ./src/image.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadImage\": () => (/* binding */ loadImage),\n/* harmony export */   \"storedAssets\": () => (/* binding */ storedAssets)\n/* harmony export */ });\nfunction loadImage(src) {\n    return new Promise((resolve) => {\n        let t = new Image();\n        t.src = src;\n        t.onload = () => resolve(t);\n        t.onerror = () => { throw new Error(\"Image not found\"); };\n    });\n}\nconst storedAssets = {};\n\n\n//# sourceURL=webpack://down_to_earth/./src/image.ts?");

/***/ }),

/***/ "./src/input.ts":
/*!**********************!*\
  !*** ./src/input.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Input\": () => (/* binding */ Input)\n/* harmony export */ });\nclass InputLocal {\n    keys = [];\n    mouseXPos = 0;\n    mouseYPos = 0;\n    constructor() {\n        addEventListener(\"keydown\", this.keyPress.bind(this));\n        addEventListener(\"keyup\", this.keyRelease.bind(this));\n        addEventListener(\"mousemove\", this.mouseMove.bind(this));\n    }\n    mouseMove(e) {\n        let x = e.clientX;\n        let y = e.clientY;\n        this.mouseXPos = x;\n        this.mouseYPos = y;\n    }\n    get mouseX() {\n        return this.mouseXPos;\n    }\n    get mouseY() {\n        return this.mouseYPos;\n    }\n    keyPress(event) {\n        let key = event.key;\n        if (!this.keys.includes(key))\n            this.keys.push(key);\n    }\n    keyRelease(event) {\n        let key = event.key;\n        if (this.keys.includes(key))\n            this.keys.splice(this.keys.indexOf(key), 1);\n    }\n    hasKey(key) {\n        return this.keys.includes(key);\n    }\n}\nconst Input = new InputLocal();\n\n\n//# sourceURL=webpack://down_to_earth/./src/input.ts?");

/***/ }),

/***/ "./src/lib/ECS.ts":
/*!************************!*\
  !*** ./src/lib/ECS.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Component\": () => (/* binding */ Component),\n/* harmony export */   \"System\": () => (/* binding */ System),\n/* harmony export */   \"ecs\": () => (/* binding */ ecs)\n/* harmony export */ });\n/* harmony import */ var _vec2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec2 */ \"./src/lib/vec2.ts\");\n\nclass Component {\n}\nclass Transform extends Component {\n    position;\n    constructor(position) {\n        super();\n        this.position = position;\n    }\n}\nclass System {\n    ecs;\n}\nclass ComponentContainer {\n    components = new Map();\n    transform = new Transform(new _vec2__WEBPACK_IMPORTED_MODULE_0__.Vec2(0, 0));\n    add(component) {\n        this.components.set(component.constructor, component);\n    }\n    get(component) {\n        return this.components.get(component);\n    }\n    remove(component) {\n        this.components.delete(component.constructor);\n    }\n    has(component) {\n        return this.components.has(component);\n    }\n    hasAll(componentClasses) {\n        for (let cls of componentClasses) {\n            if (!this.components.has(cls))\n                return false;\n        }\n        return true;\n    }\n}\nclass ecsLocal {\n    entities = new Map();\n    entitiesToRemove = [];\n    systems = new Map();\n    nextEntityId = 0;\n    newEntity() {\n        let e = this.nextEntityId;\n        this.nextEntityId++;\n        this.entities.set(e, new ComponentContainer());\n        return e;\n    }\n    removeEntity(entity) {\n        this.entitiesToRemove.push(entity);\n    }\n    addComponent(entity, component) {\n        this.entities.get(entity)?.add(component);\n        this.checkEntity(entity);\n    }\n    getComponents(entity) {\n        return this.entities.get(entity);\n    }\n    addSystem(system) {\n        system.ecs = this;\n        this.systems.set(system, new Set());\n        for (let entity of this.entities.keys()) {\n            this.checkES(entity, system);\n        }\n    }\n    checkEntity(entity) {\n        for (let system of this.systems.keys()) {\n            this.checkES(entity, system);\n        }\n    }\n    checkES(entity, system) {\n        let need = system.componentsRequired;\n        let have = this.entities.get(entity);\n        if (have?.hasAll(need)) {\n            this.systems.get(system)?.add(entity);\n        }\n        else {\n            this.systems.get(system)?.delete(entity);\n        }\n    }\n    destroyEntity(entity) {\n        this.entities.delete(entity);\n        for (let entities of this.systems.values()) {\n            entities.delete(entity);\n        }\n    }\n    update() {\n        for (let [system, entities] of this.systems.entries()) {\n            system.update(entities);\n        }\n        // remove entities\n        for (let i = 0; i < this.entitiesToRemove.length; i++) {\n            let e = this.entitiesToRemove.pop();\n            if (!e)\n                return;\n            this.destroyEntity(e);\n        }\n    }\n}\nconst ecs = new ecsLocal();\n\n\n//# sourceURL=webpack://down_to_earth/./src/lib/ECS.ts?");

/***/ }),

/***/ "./src/lib/renderer.ts":
/*!*****************************!*\
  !*** ./src/lib/renderer.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Camera\": () => (/* binding */ Camera),\n/* harmony export */   \"view\": () => (/* binding */ view)\n/* harmony export */ });\nlet canvas = document.createElement(\"canvas\");\nlet context = canvas.getContext(\"2d\");\nlet width = innerWidth;\nlet height = innerHeight;\ncanvas.width = width;\ncanvas.height = height;\ndocument.body.appendChild(canvas);\nconst view = {\n    canvas,\n    context,\n    width,\n    height,\n    center: {\n        x: width / 2,\n        y: height / 2\n    }\n};\nclass Camera {\n    _x;\n    _y;\n    _zoom;\n    constructor(x, y) {\n        this._x = x;\n        this._y = y;\n        this._zoom = 1;\n    }\n    get zoom() {\n        return this._zoom;\n    }\n    setZoom(z) {\n        this._zoom = z;\n    }\n    setX(x) {\n        this._x = x;\n    }\n    setY(y) {\n        this._y = y;\n    }\n    getScreenX(x) {\n        return view.center.x + (x - this._x) * this._zoom;\n    }\n    getScreenY(y) {\n        return view.center.y + (y - this._y) * this._zoom;\n    }\n}\n\n\n//# sourceURL=webpack://down_to_earth/./src/lib/renderer.ts?");

/***/ }),

/***/ "./src/lib/vec2.ts":
/*!*************************!*\
  !*** ./src/lib/vec2.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vec2\": () => (/* binding */ Vec2)\n/* harmony export */ });\nclass Vec2 {\n    x;\n    y;\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    clone() {\n        return new Vec2(this.x, this.y);\n    }\n    get magnitude() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    set magnitude(val) {\n        let len = val / this.magnitude;\n        this.multiply(len);\n    }\n    add(val) {\n        if (typeof (val) == \"number\") {\n            this.x += val;\n            this.y += val;\n        }\n        else {\n            this.x += val.x;\n            this.y += val.y;\n        }\n    }\n    subtract(val) {\n        if (typeof (val) == \"number\") {\n            this.x -= val;\n            this.y -= val;\n        }\n        else {\n            this.x -= val.x;\n            this.y -= val.y;\n        }\n    }\n    divide(val) {\n        if (typeof (val) == \"number\") {\n            this.x /= val;\n            this.y /= val;\n        }\n        else {\n            this.x /= val.x;\n            this.y /= val.y;\n        }\n    }\n    multiply(val) {\n        if (typeof (val) == \"number\") {\n            this.x *= val;\n            this.y *= val;\n        }\n        else {\n            this.x *= val.x;\n            this.y *= val.y;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://down_to_earth/./src/lib/vec2.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameCamera\": () => (/* binding */ GameCamera),\n/* harmony export */   \"Time\": () => (/* binding */ Time),\n/* harmony export */   \"globalState\": () => (/* binding */ globalState)\n/* harmony export */ });\n/* harmony import */ var _ecs_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ecs/components */ \"./src/ecs/components.ts\");\n/* harmony import */ var _lib_ECS__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/ECS */ \"./src/lib/ECS.ts\");\n/* harmony import */ var _ecs_systems__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ecs/systems */ \"./src/ecs/systems.ts\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./image */ \"./src/image.ts\");\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./input */ \"./src/input.ts\");\n/* harmony import */ var _lib_vec2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/vec2 */ \"./src/lib/vec2.ts\");\n/* harmony import */ var _lib_renderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/renderer */ \"./src/lib/renderer.ts\");\n\n\n\n\n\n\n\nconst storedAssets = {};\nconst globalState = {\n    level: {\n        totalLevelHeight: 100000,\n        totalLevelWidth: 4000,\n        currentLevel: 1\n    }\n};\nconst GameCamera = new _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.Camera(0, 0);\nconst Time = { DeltaTime: 0 };\nlet border1;\nlet border2;\nlet player;\nlet level;\nlet last = 0, targetFps = 60, fps = 1000 / targetFps, timeElapsed = 0, framerateUpdate = 0;\nlet running = false;\nfunction renderGUI() {\n    // render height meter\n    _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.context.drawImage(storedAssets[\"depth_meter\"], 20, 20);\n    _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.context.fillStyle = \"black\";\n    let yPos = storedAssets[\"depth_meter\"].height / globalState.level.totalLevelHeight * _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.getComponents(player).transform.position.y;\n    yPos = yPos < storedAssets[\"depth_meter\"].height ? yPos : storedAssets[\"depth_meter\"].height;\n    _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.context.fillRect(10, 20 + yPos, 50, 5);\n}\nfunction renderStaticContent() {\n    _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.context.drawImage(storedAssets[\"landscape\"], 0, 0, _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.width, _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.height);\n}\nfunction startGameLoop() {\n    let now = Date.now();\n    timeElapsed += (now - last);\n    Time.DeltaTime = (now - last) / fps;\n    framerateUpdate += (now - last);\n    if (framerateUpdate > 500) {\n        document.getElementById(\"framerate\").innerHTML = (fps / (now - last) * targetFps).toString();\n        framerateUpdate = 0;\n    }\n    last = now;\n    // clear canvas\n    _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.context.clearRect(0, 0, _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.width, _lib_renderer__WEBPACK_IMPORTED_MODULE_6__.view.height);\n    // renderStaticContent();\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.update();\n    renderGUI();\n    if (_input__WEBPACK_IMPORTED_MODULE_4__.Input.hasKey(\"q\"))\n        running = false;\n    if (running)\n        requestAnimationFrame(startGameLoop);\n}\nasync function init() {\n    // asset initialization\n    storedAssets[\"player\"] = await (0,_image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./img/player.png\");\n    storedAssets[\"depth_meter\"] = await (0,_image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./img/depth_meter.png\");\n    storedAssets[\"landscape\"] = await (0,_image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./img/landscape.png\");\n    storedAssets[\"level1\"] = await (0,_image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./img/level1.png\");\n    // LEVEL INITIALIZATION\n    level = _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.newEntity();\n    let levelComponents = _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.getComponents(level);\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.getComponents(level).transform.position = new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(0, 0);\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(level, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.SpriteComponent(storedAssets[\"level1\"], new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(storedAssets[\"level1\"].width, storedAssets[\"level1\"].height), new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(0, 400)));\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(level, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider(levelComponents.get(_ecs_components__WEBPACK_IMPORTED_MODULE_0__.SpriteComponent).dimensions.x, levelComponents.get(_ecs_components__WEBPACK_IMPORTED_MODULE_0__.SpriteComponent).dimensions.y - 400, true));\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(level, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxRendererComponent(levelComponents.get(_ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider).width, levelComponents.get(_ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider).height, \"rgba(255, 0, 0, .5)\", new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(0, 0)));\n    // BORDER INITIALIZATION\n    border1 = _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.newEntity();\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(border1, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider(1, globalState.level.totalLevelHeight, true));\n    border2 = _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.newEntity();\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.getComponents(border2).transform.position.x = globalState.level.totalLevelWidth;\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(border2, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider(1, globalState.level.totalLevelHeight, true));\n    // PLAYER INITIALIZATION\n    player = _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.newEntity();\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(player, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.SpriteComponent(storedAssets[\"player\"], new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(100, 100), new _lib_vec2__WEBPACK_IMPORTED_MODULE_5__.Vec2(0, 0)));\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(player, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.ControllerComponent(8, 8, 6));\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(player, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.BoxCollider(100, 100, false));\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(player, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.PlayerComponent());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addComponent(player, new _ecs_components__WEBPACK_IMPORTED_MODULE_0__.CameraFollow());\n    // // entity component system initialization\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.CharacterController());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.CharacterController());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.CollisionManager());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.TrackCamera());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.SpriteRenderer());\n    _lib_ECS__WEBPACK_IMPORTED_MODULE_1__.ecs.addSystem(new _ecs_systems__WEBPACK_IMPORTED_MODULE_2__.BoxRenderer());\n    // starting the main game loop\n    last = Date.now();\n    running = true;\n    startGameLoop();\n}\nonload = init;\n\n\n//# sourceURL=webpack://down_to_earth/./src/main.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.ts");
/******/ 	
/******/ })()
;