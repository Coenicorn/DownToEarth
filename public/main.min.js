(()=>{"use strict";const t=new class{canvas;context;width;height;offset;center;camera;constructor(t,e){this.canvas=e?document.getElementById(e):document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=innerWidth,this.height=innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,addEventListener("resize",this.resize.bind(this)),this.offset={x:0,y:0},this.center={x:this.width/2,y:this.height/2},this.camera=t}resize(){this.width=innerWidth,this.height=innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.center={x:this.width/2,y:this.height/2}}clear(){this.context.clearRect(0,0,this.width,this.height)}color(t){this.context.fillStyle=t}drawRectangle(t,e,i,s){t=Math.round(t+this.offset.x),e=Math.round(e+this.offset.y),this.context.fillRect(t,e,i,s)}drawLineMesh(t){this.context.lineWidth=1,this.context.beginPath();let e=t[0];this.context.moveTo(Math.round(e.a.x+this.offset.x),Math.round(e.a.y+this.offset.y)),this.context.lineTo(Math.round(e.b.x+this.offset.x),Math.round(e.b.y+this.offset.y));for(let e=1,i=t.length;e<i;e++){let i=t[e];this.context.lineTo(Math.round(i.b.x+this.offset.x),Math.round(i.b.y+this.offset.y))}this.context.closePath(),this.context.stroke()}fillLineMesh(t){this.context.beginPath();let e=t[0];this.context.moveTo(Math.round(e.a.x+this.offset.x),Math.round(e.a.y+this.offset.y)),this.context.lineTo(Math.round(e.b.x+this.offset.x),Math.round(e.b.y+this.offset.y));for(let e=1,i=t.length;e<i;e++){let i=t[e];this.context.lineTo(Math.round(i.b.x+this.offset.x),Math.round(i.b.y+this.offset.y))}this.context.closePath(),this.context.fill()}drawSprite(t,e,i,s=t.width,n=t.height){e=Math.round(e+this.offset.x),i=Math.round(i+this.offset.y),this.context.drawImage(t,e,i,s,n)}drawLine(t,e,i,s,n){t=Math.round(t+this.offset.x),e=Math.round(e+this.offset.y),i=Math.round(i+this.offset.x),s=Math.round(s+this.offset.y),this.context.lineWidth=n,this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(i,s),this.context.stroke(),this.context.closePath()}drawShape(t){let e=t[0];this.context.lineWidth=1,this.context.beginPath(),this.context.moveTo(Math.round(e.x+this.offset.x),Math.round(e.y+this.offset.y));for(let e=1,i=t.length;e<i;e++){let i=t[e];this.context.lineTo(Math.round(i.x+this.offset.x),Math.round(i.y+this.offset.y))}this.context.closePath(),this.context.stroke()}fillShape(t){let e=t[0];this.context.beginPath(),this.context.moveTo(Math.round(e.x+this.offset.x),Math.round(e.y+this.offset.y));for(let e=1,i=t.length;e<i;e++){let i=t[e];this.context.lineTo(Math.round(i.x+this.offset.x),Math.round(i.y+this.offset.y))}this.context.closePath(),this.context.fill()}alpha(t){this.context.globalAlpha=t}translate(t){this.offset.x=t.x,this.offset.y=t.y}getGamePosition(t){return{x:t.x+this.camera.position.x-this.center.x,y:t.y+this.camera.position.y-this.center.y}}getScreenPosition(t){return{x:t.x-this.camera.position.x+this.center.x,y:t.y-this.camera.position.y+this.center.y}}getCanvas(){return this.canvas}}(new class{position;constructor(t){this.position=t}moveTo(t){this.position.x=t.x,this.position.y=t.y}}({x:0,y:0}),"gameScreen");class e{keys;keyBinds;constructor(t){this.keys=[],this.keyBinds=t,addEventListener("keydown",this.keyPressed.bind(this)),addEventListener("keyup",this.keyReleased.bind(this))}keyPressed(t){this.keys.includes(t.key)||this.keys.push(t.key)}keyReleased(t){try{this.keys.splice(this.keys.indexOf(t.key),1)}catch(t){}}releaseAllkeys(){this.keys=[]}handleKeys(){for(let t of this.keys)try{this.keyBinds[t]()}catch(t){}}}const i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,n=1/6,o=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20,r=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),a=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),c=class{p;perm;permMod12;constructor(t=Math.random){const e="function"==typeof t?t:function(t){let e=0,i=0,s=0,n=1;const o=function(){let t=4022871197;return function(e){e=e.toString();for(let i=0;i<e.length;i++){t+=e.charCodeAt(i);let s=.02519603282416938*t;t=s>>>0,s-=t,s*=t,t=s>>>0,s-=t,t+=4294967296*s}return 2.3283064365386963e-10*(t>>>0)}}();return e=o(" "),i=o(" "),s=o(" "),e-=o(t),e<0&&(e+=1),i-=o(t),i<0&&(i+=1),s-=o(t),s<0&&(s+=1),function(){const t=2091639*e+2.3283064365386963e-10*n;return e=i,i=s,s=t-(n=0|t)}}(t);this.p=function(t){const e=new Uint8Array(256);for(let t=0;t<256;t++)e[t]=t;for(let i=0;i<255;i++){const s=i+~~(t()*(256-i)),n=e[i];e[i]=e[s],e[s]=n}return e}(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(let t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}noise2D(t,e){const n=this.permMod12,o=this.perm;let h=0,a=0,c=0;const l=(t+e)*i,d=Math.floor(t+l),y=Math.floor(e+l),x=(d+y)*s,m=t-(d-x),f=e-(y-x);let u,p;m>f?(u=1,p=0):(u=0,p=1);const g=m-u+s,k=f-p+s,w=m-1+2*s,v=f-1+2*s,M=255&d,S=255&y;let T=.5-m*m-f*f;if(T>=0){const t=3*n[M+o[S]];T*=T,h=T*T*(r[t]*m+r[t+1]*f)}let L=.5-g*g-k*k;if(L>=0){const t=3*n[M+u+o[S+p]];L*=L,a=L*L*(r[t]*g+r[t+1]*k)}let P=.5-w*w-v*v;if(P>=0){const t=3*n[M+1+o[S+1]];P*=P,c=P*P*(r[t]*w+r[t+1]*v)}return 70*(h+a+c)}noise3D(t,e,i){const s=this.permMod12,o=this.perm;let h,a,c,l;const d=.3333333333333333*(t+e+i),y=Math.floor(t+d),x=Math.floor(e+d),m=Math.floor(i+d),f=(y+x+m)*n,u=t-(y-f),p=e-(x-f),g=i-(m-f);let k,w,v,M,S,T;u>=p?p>=g?(k=1,w=0,v=0,M=1,S=1,T=0):u>=g?(k=1,w=0,v=0,M=1,S=0,T=1):(k=0,w=0,v=1,M=1,S=0,T=1):p<g?(k=0,w=0,v=1,M=0,S=1,T=1):u<g?(k=0,w=1,v=0,M=0,S=1,T=1):(k=0,w=1,v=0,M=1,S=1,T=0);const L=u-k+n,P=p-w+n,b=g-v+n,E=u-M+2*n,C=p-S+2*n,A=g-T+2*n,R=u-1+.5,D=p-1+.5,B=g-1+.5,F=255&y,z=255&x,I=255&m;let U=.6-u*u-p*p-g*g;if(U<0)h=0;else{const t=3*s[F+o[z+o[I]]];U*=U,h=U*U*(r[t]*u+r[t+1]*p+r[t+2]*g)}let q=.6-L*L-P*P-b*b;if(q<0)a=0;else{const t=3*s[F+k+o[z+w+o[I+v]]];q*=q,a=q*q*(r[t]*L+r[t+1]*P+r[t+2]*b)}let W=.6-E*E-C*C-A*A;if(W<0)c=0;else{const t=3*s[F+M+o[z+S+o[I+T]]];W*=W,c=W*W*(r[t]*E+r[t+1]*C+r[t+2]*A)}let H=.6-R*R-D*D-B*B;if(H<0)l=0;else{const t=3*s[F+1+o[z+1+o[I+1]]];H*=H,l=H*H*(r[t]*R+r[t+1]*D+r[t+2]*B)}return 32*(h+a+c+l)}noise4D(t,e,i,s){const n=this.perm;let r,c,l,d,y;const x=(t+e+i+s)*o,m=Math.floor(t+x),f=Math.floor(e+x),u=Math.floor(i+x),p=Math.floor(s+x),g=(m+f+u+p)*h,k=t-(m-g),w=e-(f-g),v=i-(u-g),M=s-(p-g);let S=0,T=0,L=0,P=0;k>w?S++:T++,k>v?S++:L++,k>M?S++:P++,w>v?T++:L++,w>M?T++:P++,v>M?L++:P++;const b=S>=3?1:0,E=T>=3?1:0,C=L>=3?1:0,A=P>=3?1:0,R=S>=2?1:0,D=T>=2?1:0,B=L>=2?1:0,F=P>=2?1:0,z=S>=1?1:0,I=T>=1?1:0,U=L>=1?1:0,q=P>=1?1:0,W=k-b+h,H=w-E+h,O=v-C+h,K=M-A+h,N=k-R+2*h,G=w-D+2*h,j=v-B+2*h,J=M-F+2*h,Q=k-z+3*h,V=w-I+3*h,X=v-U+3*h,Y=M-q+3*h,Z=k-1+4*h,$=w-1+4*h,_=v-1+4*h,tt=M-1+4*h,et=255&m,it=255&f,st=255&u,nt=255&p;let ot=.6-k*k-w*w-v*v-M*M;if(ot<0)r=0;else{const t=n[et+n[it+n[st+n[nt]]]]%32*4;ot*=ot,r=ot*ot*(a[t]*k+a[t+1]*w+a[t+2]*v+a[t+3]*M)}let ht=.6-W*W-H*H-O*O-K*K;if(ht<0)c=0;else{const t=n[et+b+n[it+E+n[st+C+n[nt+A]]]]%32*4;ht*=ht,c=ht*ht*(a[t]*W+a[t+1]*H+a[t+2]*O+a[t+3]*K)}let rt=.6-N*N-G*G-j*j-J*J;if(rt<0)l=0;else{const t=n[et+R+n[it+D+n[st+B+n[nt+F]]]]%32*4;rt*=rt,l=rt*rt*(a[t]*N+a[t+1]*G+a[t+2]*j+a[t+3]*J)}let at=.6-Q*Q-V*V-X*X-Y*Y;if(at<0)d=0;else{const t=n[et+z+n[it+I+n[st+U+n[nt+q]]]]%32*4;at*=at,d=at*at*(a[t]*Q+a[t+1]*V+a[t+2]*X+a[t+3]*Y)}let ct=.6-Z*Z-$*$-_*_-tt*tt;if(ct<0)y=0;else{const t=n[et+1+n[it+1+n[st+1+n[nt+1]]]]%32*4;ct*=ct,y=ct*ct*(a[t]*Z+a[t+1]*$+a[t+2]*_+a[t+3]*tt)}return 27*(r+c+l+d+y)}};class l{a;b;surfaceNormal;constructor(t,e){this.a=t,this.b=e;let i={x:this.b.x-this.a.x,y:this.b.y-this.a.y},s=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));i.x/=s,i.y/=s,this.surfaceNormal={x:i.y,y:-i.x}}intersectsLine(t){let e,i,s,n,o,h,r,a;e=this.a.x,i=this.a.y,s=this.b.x,n=this.b.y,o=t.a.x,h=t.a.y,r=t.b.x,a=t.b.y;let c=(e-s)*(h-a)-(i-n)*(o-r);if(0==c)return;let l=((e-o)*(h-a)-(i-h)*(o-r))/c,d=((e-o)*(i-n)-(i-h)*(e-s))/c;return l>=0&&l<=1&&d>=0&&d<=1?{x:e+l*(s-e),y:i+l*(n-i)}:void 0}intersectsAABB(t){let e,i,s,n,o,h,r,a,c,d,y,x;return e=t.position.x,o=t.position.y,i=t.position.x+t.dimensions.x,h=t.position.y,s=t.position.x+t.dimensions.x,r=t.position.y+t.dimensions.y,n=t.position.x,a=t.position.y+t.dimensions.y,c=new l({x:e,y:o},{x:i,y:h}),d=new l({x:i,y:h},{x:s,y:r}),y=new l({x:s,y:r},{x:n,y:a}),x=new l({x:n,y:a},{x:e,y:o}),null!=this.intersectsLine(c)||null!=this.intersectsLine(d)||null!=this.intersectsLine(y)||null!=this.intersectsLine(x)}}class d{mesh;constructor(t){this.mesh=[];for(let e=1,i=t.length;e<i;e++)this.mesh.push(new l({x:t[e-1].x,y:t[e-1].y},{x:t[e].x,y:t[e].y}));this.mesh.push(new l({x:t[t.length-1].x,y:t[t.length-1].y},{x:t[0].x,y:t[0].y}))}static meshFromAABB(t){let e,i,s,n,o,h,r,a;return e=t.position.x,o=t.position.y,i=t.position.x+t.dimensions.x,h=t.position.y,s=t.position.x+t.dimensions.x,r=t.position.y+t.dimensions.y,n=t.position.x,a=t.position.y+t.dimensions.y,new d([{x:e,y:o},{x:i,y:h},{x:s,y:r},{x:n,y:a}])}getMesh(){return this.mesh}}class y{mesh;config;xPosition;constructor(t,e,i){this.xPosition=i,this.config=e,this.mesh=this.makeLayout(t)}makeLayout(t){let e=[];for(let i=0,s=this.config.maxChunkSegments;i<=s;i++){let s,n,o,h;s=i*this.config.segmentLength+this.xPosition,o=t.noise2D(s/this.config.noiseSampleSize,0),h=0;for(let e=1;e<30;e++)o+=t.noise2D(s/this.config.noiseSampleSize*e,0)/Math.pow(2,e),h+=1/e;o/=h,o=o*this.config.maxLevelHeight/2,n=o,e.push({x:s,y:n})}return e.push({x:this.xPosition+this.config.maxChunkSegments*this.config.segmentLength,y:this.config.levelDownExtension}),e.push({x:this.xPosition,y:this.config.levelDownExtension}),new d(e)}}const x=new class{config;chunks;noiseInstance;constructor(t){this.config=t,this.chunks=[],this.noiseInstance=new c,this.generateChunks()}checkPlayerCamera(e){let i,s,n,o;if(o=this.chunks[0].xPosition,i=e.position.x,s=i-t.center.x-o,n=this.chunks[this.chunks.length-1].xPosition+this.config.maxChunkSegments*this.config.segmentLength-i-t.center.x,e.position.x<=o&&(e.position.x=o),n<0){let t=this.chunks.shift();t.xPosition=this.chunks[this.chunks.length-1].xPosition+this.config.maxChunkSegments*this.config.segmentLength,t.mesh=t.makeLayout(this.noiseInstance),this.chunks.push(t)}}generateChunks(){let e=-this.config.maxChunkSegments*this.config.segmentLength-t.center.x;for(;!(e>t.width+this.config.maxChunkSegments*this.config.segmentLength+this.config.renderDistance);)this.chunks.push(new y(this.noiseInstance,this.config,e)),e+=this.config.maxChunkSegments*this.config.segmentLength}renderLevel(){t.translate(t.getScreenPosition({x:0,y:0})),this.chunks.forEach((e=>{t.color("green"),t.fillLineMesh(e.mesh.getMesh())}))}getChunkAt(t){let e=this;return 0==t&&(t+=1),function i(s,n,o){let h=Math.floor((n+o)/2),r=s[h];if(!r)return;let a=r.xPosition,c=r.xPosition+e.config.segmentLength*e.config.maxChunkSegments;return t>=a&&t<=c?r:t>a?i(s,h+1,o):i(s,n,h-1)}(this.chunks,0,this.chunks.length)}getCollidingLines(t){let e=[],i=[];return e.push(x.getChunkAt(t.position.x)),e.push(x.getChunkAt(t.position.x+t.dimensions.x)),e.forEach((e=>{e?.mesh.getMesh().forEach((e=>{e.intersectsAABB(t)&&i.push(e)}))})),i}}({segmentLength:10,maxLevelHeight:700,noiseSampleSize:2e3,renderDistance:500,maxChunkSegments:50,levelDownExtension:1500});class m{position;velocity;dimensions;sprite;alive;onground;constructor(t,e,i){this.position=t,this.dimensions=e,this.velocity={x:0,y:0},this.sprite=i,this.onground=!1,this.alive=!0,this.init()}update(t){this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t,this.onground=!1;let e=x.getCollidingLines(this);for(let t=0,i=e.length;t<i;t++){for(;e[t].intersectsAABB(this);)this.position.y-=.1;this.onground=!0}this.tick()}render(){t.translate(t.getScreenPosition(this.position)),t.drawSprite(this.sprite,0,0,this.dimensions.x,this.dimensions.y)}}const f=new class{dt;fps;desiredFrameTime;frameTime;timeSinceLastUpdate;renderTimer;constructor(){this.dt=0,this.desiredFrameTime=0,this.frameTime=0,this.fps=0,this.timeSinceLastUpdate=0,this.renderTimer=0}update(){let t=Date.now();this.frameTime=t-this.timeSinceLastUpdate,this.dt=this.frameTime/this.desiredFrameTime,this.timeSinceLastUpdate=t,this.renderTimer+=this.frameTime}resetRendertimer(){this.renderTimer=0}reset(){this.timeSinceLastUpdate=Date.now()}setFps(t){this.fps=t,this.desiredFrameTime=1e3/this.fps}getFps(){return this.fps}getFrameTime(){return this.frameTime}get canRender(){return this.renderTimer>this.desiredFrameTime}get deltaTime(){return this.dt}};class u{position;velocity;size;color;lifetime;life;constructor(t,e,i,s,n){this.position=t,this.velocity=e,this.size=i,this.color=s,this.lifetime=n,this.life=this.lifetime}update(){this.life-=f.getFrameTime(),this.position.x+=this.velocity.x*f.deltaTime,this.position.y+=this.velocity.y*f.deltaTime}render(){t.alpha(this.life/this.lifetime),t.color(this.color),t.translate(t.getScreenPosition(this.position)),t.drawRectangle(0,0,this.size,this.size),t.alpha(1)}}const p=new class{particles;constructor(){this.particles=[]}update(){this.particles.forEach((t=>{t.update(),t.life<0&&this.particles.splice(this.particles.indexOf(t),1)}))}render(){this.particles.forEach((t=>{t.render()}))}newParticle(t){this.particles.push(t)}};class g extends m{mass;constructor(t,e,i,s){super(t,{x:e,y:e},i),this.mass=e,this.velocity=s||{x:6*Math.random()-3,y:0}}init(){}tick(){this.velocity.y+=5/this.mass,p.newParticle(new u({x:this.position.x+this.dimensions.x/2,y:this.position.y+this.dimensions.y/2},{x:4*Math.random()-2,y:4*Math.random()-2},3,"red",1e3)),this.onground&&this.break(),this.position.y+=this.velocity.y;let e=t.getScreenPosition(this.position);(e.x<-1e3||e.x>t.width+1e3)&&(this.alive=!1)}break(){for(let t=0;t<10;t++)p.newParticle(new u({x:this.position.x,y:this.position.y},{x:4*Math.random()-2,y:4*Math.random()-2},3,"gray",500));this.alive=!1,this.dimensions.x<50||(P.newEntity(new g({x:this.position.x,y:this.position.y-10},this.dimensions.x/2,this.sprite,{x:6*Math.random()-3,y:-this.velocity.y/2})),P.newEntity(new g({x:this.position.x,y:this.position.y-10},this.dimensions.x/2,this.sprite,{x:6*Math.random()-3,y:-this.velocity.y/2})))}}let k,w,v,M=1920;function S(t){return{x:t,y:-432*v.noise2D(t/1e3,0)/2-216}}function T(t){return new Promise(((e,i)=>{let s=new Image;s.src=t,s.onload=()=>e(s),s.onerror=()=>{throw new Error("Image not found")}}))}const L={},P=new class{entities;timeSinceLastRock;rockTimer;player;constructor(){this.entities=[],this.timeSinceLastRock=Date.now(),this.rockTimer=500}addPlayer(t){this.player=t}newEntity(t){this.entities.length>=300||this.entities.includes(t)||this.entities.push(t)}removeEntity(t){this.entities.includes(t)&&this.entities.splice(this.entities.indexOf(t),1)}update(t){this.player?.update(t),this.entities.forEach((e=>{e.update(t),this.player&&function(t,e){let i=t.position.x,s=t.position.y,n=t.position.x+t.dimensions.x,o=t.position.y+t.dimensions.y,h=e.position.x,r=e.position.y,a=e.position.x+e.dimensions.x,c=e.position.y+e.dimensions.y;return!(i>a||n<h||s>c||o<r)}(e,this.player)&&(this.player.alive=!1),e.alive||this.removeEntity(e)})),this.timeSinceLastRock<Date.now()&&(this.generateRock(),this.timeSinceLastRock=Date.now()+this.rockTimer,this.rockTimer>100&&this.rockTimer--)}render(){this.player?.render(),this.entities.forEach((t=>{t.render()}))}generateRock(){if(!this.player)return;let e={x:Math.random()*t.width*2-t.width+t.camera.position.x+500*this.player.velocity.x,y:-800};this.newEntity(new g(e,50*Math.random()+50,L.rock1))}};class b extends m{alive;maxSpeed;speed;constructor(t,e,i){super(t,e,i),this.alive=!0,this.speed=2,this.maxSpeed=10}init(){}tick(){this.velocity.x>this.maxSpeed&&(this.velocity.x=this.maxSpeed),this.velocity.x<-this.maxSpeed&&(this.velocity.x=-this.maxSpeed),this.onground&&(this.velocity.y=0),this.velocity.x*=.95,this.velocity.y+=1*f.deltaTime}move(t){switch(t){case 0:this.velocity.x-=this.speed;break;case 1:this.velocity.x+=this.speed;break;case 2:this.onground&&(this.velocity.y-=20)}}}let E,C,A,R,D=!0,B=5;function F(){f.update(),D&&(E.handleKeys(),C.alive||(D=!1),P.update(f.deltaTime),p.update(),x.checkPlayerCamera(C),t.camera.moveTo({x:t.camera.position.x+B,y:C.position.y}),C.position.x+t.center.x-t.camera.position.x<0&&(C.alive=!1),B+=.01),f.canRender&&(t.clear(),t.translate({x:0,y:0}),t.drawSprite(L.Background1,0,0),x.renderLevel(),P.render(),p.render(),f.resetRendertimer()),requestAnimationFrame(F)}onload=async function(){await async function(){L.rock1=await T("./assets/rock1.png"),L.player=await T("./assets/player.png"),L.Background1=await T(function(){k=document.createElement("canvas"),w=k.getContext("2d"),v=new c,k.width=M,k.height=1080,w.clearRect(0,0,M,1080);let t=[],e=0;for(;;){let i=S(e);if(t.push(i),e>M)break;e+=Math.round(100*Math.random())+60}w.lineWidth=2,w.strokeStyle="black",w.moveTo(Math.round(t[0].x),Math.round(432+t[0].y));for(let e=1,i=t.length;e<i;e++)w.lineTo(Math.round(t[e].x),Math.round(432+t[e].y));return w.stroke(),k.toDataURL()}())}(),C=new b({x:0,y:-300},{x:50,y:100},L.player),P.addPlayer(C),P.generateRock(),E=new e({a:()=>C.move(0),d:()=>C.move(1)," ":()=>C.move(2)}),R=document.getElementById("button-resume"),A=document.getElementById("menu"),R.onclick=()=>{D||(f.reset(),D=!0,A.style.visibility="hidden")},addEventListener("blur",(()=>{E.releaseAllkeys(),D=!1,A.style.visibility="visible"})),f.reset(),f.setFps(60),F()}})();