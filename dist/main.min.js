(()=>{"use strict";const t=function(){function t(t){this.keys=[],this.keybinds=t,addEventListener("keydown",this.keyPressed.bind(this)),addEventListener("keyup",this.keyReleased.bind(this))}return t.prototype.keyPressed=function(t){this.keys.includes(t.key)||this.keys.push(t.key)},t.prototype.keyReleased=function(t){try{this.keys.splice(this.keys.indexOf(t.key))}catch(t){}},t}();var e,n=(e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),i=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.speed=1,o.maxSpeed=5,o.alive=!0,o}return n(e,t),e.prototype.update=function(t){this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t},e.prototype.collide=function(t){},e.prototype.render=function(t){t.color("black"),t.drawRectangle(t.width/2-this.dimensions.x/2,t.height/2-this.dimensions.y/2,this.dimensions.x,this.dimensions.y)},e.prototype.handleInput=function(t){},e}((function(t,e,n){this.position=t,this.velocity=e,this.dimensions=n})),o=function(){function t(){this.entities=[]}return t.prototype.update=function(t){this.entities.forEach((function(e){e.update(t)}))},t.prototype.render=function(t){this.entities.forEach((function(e){e.render(t)}))},t.prototype.newEntity=function(t){return this.entities.includes(t)||this.entities.push(t),t},t.prototype.removeEntity=function(t){this.entities.includes(t)&&this.entities.splice(this.entities.indexOf(t),1)},t}();const r=o;var s=function(){function t(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=screen.width,this.height=this.canvas.height=screen.height}return t.prototype.mount=function(t){var e=document.querySelector(t);if(!e)throw new Error("Error mounting Renderer to DOM element, wrong selector");e.appendChild(this.canvas)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.color=function(t){this.context.fillStyle=t},t.prototype.drawRectangle=function(t,e,n,i){this.context.fillRect(t,e,n,i)},t.prototype.drawText=function(t,e,n,i){this.context.font=n,this.context.fillText(i,t,e)},t.prototype.drawSprite=function(t,e,n,i,o){void 0===i&&(i=t.width),void 0===o&&(o=t.height),this.context.drawImage(t,e,n,i,o)},t.prototype.drawLine=function(t,e,n,i,o){this.context.lineWidth=o,this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(n,i),this.context.stroke(),this.context.closePath()},t.prototype.fillShape=function(t){var e=t[0];this.context.beginPath(),this.context.lineWidth=0,this.context.moveTo(e.x,e.y);for(var n=1,i=t.length;n<i;n++){var o=t[n];this.context.lineTo(o.x,o.y)}this.context.closePath(),this.context.fill()},t.prototype.getContent=function(){return this.canvas.toDataURL()},t}(),a=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,c=1/6,p=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20,f=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),l=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);const y=function(){function t(t){void 0===t&&(t=Math.random);var e,n,i,o,r,s,a,h="function"==typeof t?t:(e=t,i=0,o=0,r=0,s=1,n=4022871197,a=function(t){t=t.toString();for(var e=0;e<t.length;e++){var i=.02519603282416938*(n+=t.charCodeAt(e));i-=n=i>>>0,n=(i*=n)>>>0,n+=4294967296*(i-=n)}return 2.3283064365386963e-10*(n>>>0)},i=a(" "),o=a(" "),r=a(" "),(i-=a(e))<0&&(i+=1),(o-=a(e))<0&&(o+=1),(r-=a(e))<0&&(r+=1),function(){var t=2091639*i+2.3283064365386963e-10*s;return i=o,o=r,r=t-(s=0|t)});this.p=function(t){for(var e=new Uint8Array(256),n=0;n<256;n++)e[n]=n;for(n=0;n<255;n++){var i=n+~~(t()*(256-n)),o=e[n];e[n]=e[i],e[i]=o}return e}(h),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var c=0;c<512;c++)this.perm[c]=this.p[255&c],this.permMod12[c]=this.perm[c]%12}return t.prototype.noise2D=function(t,e){var n,i,o=this.permMod12,r=this.perm,s=0,c=0,p=0,u=(t+e)*a,l=Math.floor(t+u),y=Math.floor(e+u),d=(l+y)*h,v=t-(l-d),m=e-(y-d);v>m?(n=1,i=0):(n=0,i=1);var x=v-n+h,w=m-i+h,g=v-1+2*h,k=m-1+2*h,M=255&l,E=255&y,L=.5-v*v-m*m;if(L>=0){var S=3*o[M+r[E]];s=(L*=L)*L*(f[S]*v+f[S+1]*m)}var b=.5-x*x-w*w;if(b>=0){var A=3*o[M+n+r[E+i]];c=(b*=b)*b*(f[A]*x+f[A+1]*w)}var O=.5-g*g-k*k;if(O>=0){var P=3*o[M+1+r[E+1]];p=(O*=O)*O*(f[P]*g+f[P+1]*k)}return 70*(s+c+p)},t.prototype.noise3D=function(t,e,n){var i,o,r,s,a,h,p,u,l,y,d=this.permMod12,v=this.perm,m=.3333333333333333*(t+e+n),x=Math.floor(t+m),w=Math.floor(e+m),g=Math.floor(n+m),k=(x+w+g)*c,M=t-(x-k),E=e-(w-k),L=n-(g-k);M>=E?E>=L?(a=1,h=0,p=0,u=1,l=1,y=0):M>=L?(a=1,h=0,p=0,u=1,l=0,y=1):(a=0,h=0,p=1,u=1,l=0,y=1):E<L?(a=0,h=0,p=1,u=0,l=1,y=1):M<L?(a=0,h=1,p=0,u=0,l=1,y=1):(a=0,h=1,p=0,u=1,l=1,y=0);var S=M-a+c,b=E-h+c,A=L-p+c,O=M-u+2*c,P=E-l+2*c,R=L-y+2*c,_=M-1+.5,D=E-1+.5,T=L-1+.5,q=255&x,C=255&w,U=255&g,j=.6-M*M-E*E-L*L;if(j<0)i=0;else{var F=3*d[q+v[C+v[U]]];i=(j*=j)*j*(f[F]*M+f[F+1]*E+f[F+2]*L)}var I=.6-S*S-b*b-A*A;if(I<0)o=0;else{var W=3*d[q+a+v[C+h+v[U+p]]];o=(I*=I)*I*(f[W]*S+f[W+1]*b+f[W+2]*A)}var z=.6-O*O-P*P-R*R;if(z<0)r=0;else{var B=3*d[q+u+v[C+l+v[U+y]]];r=(z*=z)*z*(f[B]*O+f[B+1]*P+f[B+2]*R)}var H=.6-_*_-D*D-T*T;if(H<0)s=0;else{var G=3*d[q+1+v[C+1+v[U+1]]];s=(H*=H)*H*(f[G]*_+f[G+1]*D+f[G+2]*T)}return 32*(i+o+r+s)},t.prototype.noise4D=function(t,e,n,i){var o,r,s,a,h,c=this.perm,f=(t+e+n+i)*p,y=Math.floor(t+f),d=Math.floor(e+f),v=Math.floor(n+f),m=Math.floor(i+f),x=(y+d+v+m)*u,w=t-(y-x),g=e-(d-x),k=n-(v-x),M=i-(m-x),E=0,L=0,S=0,b=0;w>g?E++:L++,w>k?E++:S++,w>M?E++:b++,g>k?L++:S++,g>M?L++:b++,k>M?S++:b++;var A=E>=3?1:0,O=L>=3?1:0,P=S>=3?1:0,R=b>=3?1:0,_=E>=2?1:0,D=L>=2?1:0,T=S>=2?1:0,q=b>=2?1:0,C=E>=1?1:0,U=L>=1?1:0,j=S>=1?1:0,F=b>=1?1:0,I=w-A+u,W=g-O+u,z=k-P+u,B=M-R+u,H=w-_+2*u,G=g-D+2*u,J=k-T+2*u,K=M-q+2*u,N=w-C+3*u,Q=g-U+3*u,V=k-j+3*u,X=M-F+3*u,Y=w-1+4*u,Z=g-1+4*u,$=k-1+4*u,tt=M-1+4*u,et=255&y,nt=255&d,it=255&v,ot=255&m,rt=.6-w*w-g*g-k*k-M*M;if(rt<0)o=0;else{var st=c[et+c[nt+c[it+c[ot]]]]%32*4;o=(rt*=rt)*rt*(l[st]*w+l[st+1]*g+l[st+2]*k+l[st+3]*M)}var at=.6-I*I-W*W-z*z-B*B;if(at<0)r=0;else{var ht=c[et+A+c[nt+O+c[it+P+c[ot+R]]]]%32*4;r=(at*=at)*at*(l[ht]*I+l[ht+1]*W+l[ht+2]*z+l[ht+3]*B)}var ct=.6-H*H-G*G-J*J-K*K;if(ct<0)s=0;else{var pt=c[et+_+c[nt+D+c[it+T+c[ot+q]]]]%32*4;s=(ct*=ct)*ct*(l[pt]*H+l[pt+1]*G+l[pt+2]*J+l[pt+3]*K)}var ut=.6-N*N-Q*Q-V*V-X*X;if(ut<0)a=0;else{var ft=c[et+C+c[nt+U+c[it+j+c[ot+F]]]]%32*4;a=(ut*=ut)*ut*(l[ft]*N+l[ft+1]*Q+l[ft+2]*V+l[ft+3]*X)}var lt=.6-Y*Y-Z*Z-$*$-tt*tt;if(lt<0)h=0;else{var yt=c[et+1+c[nt+1+c[it+1+c[ot+1]]]]%32*4;h=(lt*=lt)*lt*(l[yt]*Y+l[yt+1]*Z+l[yt+2]*$+l[yt+3]*tt)}return 27*(o+r+s+a+h)},t}();var d=function(){function t(t){this.points=[],this.segmentLength=10,this.noiseInstance=new y,this.maxLevelHeight=100,this.noiseSampleSize=1e3,this.maxAllowedBackwardsMotion=this.segmentLength,this.maxChunkSegments=20,this.player=t,this.makeLayout()}return t.prototype.makeLayout=function(){},t.prototype.renderLevel=function(t){},t.prototype.update=function(){},t}(),v=new r,m=(new t({}),new s);m.mount("#main");var x=0,w=1e3/60,g=Date.now(),k=0,M=new i({x:0,y:0},{x:1,y:0},{x:50,y:100});v.newEntity(M);var E=new d(M);function L(){m.clear(),E.renderLevel(m),v.render(m)}!function t(){var e=Date.now();x=(e-g)/w,k+=e-g,g=e,v.update(x),E.update(),L(),k>w&&(L(),k=0),requestAnimationFrame(t)}()})();